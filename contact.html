<!Doctype html>

<html>
	<head>
		<title>Lucas Jeub - </title>
		<link rel="stylesheet" type="text/css" href="style.css">
		<meta name="author" content="Lucas Jeub">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="scripts/insert_last_modified.js" type="text/javascript"></script>
	</head>

	<body>
		<div id="header">
			<h1 id="heading">Lucas Jeub</h1>
			<ul id="menu">
				<li><a href="home.html">Home</a></li>
				<li><a href="papers.html">Papers</a></li>
				<li><a href="code.html">Code</a></li>
				<li><a href="links.html">Links</a></li>
                <li><a href="contact.html">Contact</a></li>
			</ul>
		</div>

		<div class="main">
            <h2 id="subheading">Contact</h2>
            <form id="ct-frm" name="simple-contact-form" accept-charset="utf-8" action="https://formspree.io/mlebvlqr" method="post">
                <fieldset id="ct-frm-inputs">
                    <label for="full-name">Name</label>
                    <input class="input_field" type="text" name="name" id="full-name" placeholder="First and Last" required="">
                    <label for="email-address">Email</label>
                    <input class="input_field" type="email" name="email" id="email-address" placeholder="email@domain.tld" required="">
                    <label for="email-subject">Subject</label>
                    <input class="input_field" type="text" name="_subject" id="email-subject" placeholder="Contact" required="">
                    <label for="message">Message</label>
                    <textarea class="input_field" rows="5" name="message" id="message" placeholder="Message" required=""></textarea>
                </fieldset>
                <input id="ct-frm-sbm" type="submit" value="Submit"> <span id="ct-frm-status"></span>
            </form>
		</div>

		<div id="footer">
			<p>
				This page was last modified by Lucas Jeub on <span class="last_modified"></span>.
			</p>
		</div>

        <script>
            window.addEventListener("DOMContentLoaded", function() {

                // get the form elements defined in your form HTML above

                var form = document.getElementById("ct-frm");
                var button = document.getElementById("ct-frm-sbm");
                var status = document.getElementById("ct-frm-status");

                // Success and Error functions for after the form is submitted

                function success() {
                    form.reset();
                    button.style = "display: none";
                    status.innerHTML = "Thanks!";
                }

                function error() {
                    status.innerHTML = "Oops! There was a problem.";
                }

                // handle the form submission event

                form.addEventListener("submit", function(ev) {
                    ev.preventDefault();
                    var data = new FormData(form);
                    ajax(form.method, form.action, data, success, error);
                 });
              });

              // helper function for sending an AJAX request

              function ajax(method, url, data, success, error) {
                  var xhr = new XMLHttpRequest();
                  xhr.open(method, url);
                  xhr.setRequestHeader("Accept", "application/json");
                  xhr.onreadystatechange = function() {
                      if (xhr.readyState !== XMLHttpRequest.DONE) return;
                      if (xhr.status === 200) {
                          success(xhr.response, xhr.responseType);
                      } else {
                          error(xhr.status, xhr.response, xhr.responseType);
                      }
                  };
                  xhr.send(data);
              }
          </script>
	</body>
</html>
